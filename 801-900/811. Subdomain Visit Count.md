<?php
class Solution {
        function subdomainVisits($cpdomains) {
        $visits = [];
        foreach($cpdomains as $cpdomain){
            $item = explode(' ',$cpdomain);
            $domain = explode('.',$item[1]);
            $max = count($domain);
            for($i=$max-1; $i>=0;$i--){
                $d = implode('.', array_slice($domain, $i));
                if(!isset($visits[$d])){
                    $visits[$d] = 0;
                }
                $visits[$d] += $item[0];
            }
        }
        $v = [];
        foreach($visits as $domain => $visit){
            $v[] = $visit.' '.$domain;
        }
        return $v;
    }
}
