<?php
    class Solution {

        /**
         * @param Integer $n
         * @return Boolean
         */
        function isHappy($n) {
            $safe = [1,7,10,13,19,23,28,31,28,31,32,44,49,68,70,79,82,86,91,94,97,100];
            $total = $n;
            do{
                $digits = str_split($total);
                $total = array_reduce($digits, function($val, $s){
                    $val += $s*$s;
                    return $val;
                }, 0);
            }while($total>100);
            if(in_array($total, $safe)){
                return true;
            }
            return false;
        }
    }
