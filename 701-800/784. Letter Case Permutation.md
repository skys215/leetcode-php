<?php
class Solution {

    /**
     * @param String $S
     * @return String[]
     */
    function letterCasePermutation($S) {
        $all = [$S];
        $S = str_split($S);
        $alphabets = str_split('abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ');
        $chars = array_intersect($S, $alphabets);
        foreach($chars as $key => $value){
            foreach($all as $newString){
                $newStringArray = str_split($newString);
                $newStringArray[$key] = strtolower($newStringArray[$key]);
                $all[] = implode($newStringArray);
                
                $newStringArray = str_split($newString);
                $newStringArray[$key] = strtoupper($newStringArray[$key]);
                $all[] = implode($newStringArray);
            }
        }
        $all = array_unique($all);
        sort($all);
        return $all;
    }
}
