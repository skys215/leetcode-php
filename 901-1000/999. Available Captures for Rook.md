<?php
class Solution {

    /**
     * @param String[][] $board
     * @return Integer
     */
    function numRookCaptures($board) {
        //首先要找到R
        $rowNum = -1;
        $colNum = -1;
        foreach($board as $rowNum => $row){
            $colNum = array_search('R',$row);
            if($colNum !== false){
                break;
            }
        }
        if($colNum===-1){
            return 0;
        }
        $captureable = 0;
        //找到后往四个方向搜索
        for($j=$colNum-1; $j>=0; $j--){
            if($board[$rowNum][$j] == '.'){
                continue;
            }
            if(strtoupper($board[$rowNum][$j]) == $board[$rowNum][$j]){
                break;
            }
            if(strtolower($board[$rowNum][$j]) == $board[$rowNum][$j]){
                $captureable++;
                break;
            }
        }
        for($j=$colNum+1; $j<8; $j++){
            if($board[$rowNum][$j] == '.'){
                continue;
            }
            if(strtoupper($board[$rowNum][$j]) == $board[$rowNum][$j]){
                break;
            }
            if(strtolower($board[$rowNum][$j]) == $board[$rowNum][$j]){
                $captureable++;
                break;
            }
        }

        for($i=$rowNum+1; $i<8; $i++){
            if($board[$i][$colNum] == '.'){
                continue;
            }
            if(strtoupper($board[$i][$colNum]) == $board[$i][$colNum]){
                break;
            }
            if(strtolower($board[$i][$colNum]) == $board[$i][$colNum]){
                $captureable++;
                break;
            }
        }
        for($i=$rowNum-1; $i>=0; $i--){
            if($board[$i][$colNum] == '.'){
                continue;
            }
            if(strtoupper($board[$i][$colNum]) == $board[$i][$colNum]){
                break;
            }
            if(strtolower($board[$i][$colNum]) == $board[$i][$colNum]){
                $captureable++;
                break;
            }
        }
        return $captureable;
    }
}
