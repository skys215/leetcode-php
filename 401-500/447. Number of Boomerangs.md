<?php
class Solution {

    /**
     * @param Integer[][] $points
     * @return Integer
     */
    function numberOfBoomerangs($points) {
        $c = 0;
        $totalPoints = count($points);
        for($i = 0; $i<$totalPoints; $i++){
            $distances = [];
            $iv = $points[$i];
            for($j = 0; $j<$totalPoints; $j++){
                if($i == $j){
                    continue;
                }
                $jv = $points[$j];
                $ij = pow($iv[0]-$jv[0],2) + pow($iv[1]-$jv[1],2);
                if(!isset($distances[$ij])){
                    $distances[$ij] = 0;
                }
                $distances[$ij]++;
            }
            foreach($distances as $v){
                $c += $v*$v-$v;
            }
        }
            
        return $c;
    }
}
